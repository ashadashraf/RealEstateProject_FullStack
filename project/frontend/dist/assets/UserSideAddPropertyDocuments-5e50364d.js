import{r as n,j as e,R as I}from"./react-5e5497d9.js";import{c as w,U as k}from"./index-f22a0ac5.js";import{U as N}from"./UserPropertySell-50f5e11f.js";import{F as r,C as s,B as d}from"./react-bootstrap-94f1a3e9.js";import{u as D}from"./react-router-c0ec2a24.js";import"./@zegocloud-df1323c4.js";import"./react-dom-585b8c01.js";import"./scheduler-765c72db.js";import"./react-router-dom-992c6d67.js";import"./@babel-11e817af.js";import"./history-14403fb6.js";import"./resolve-pathname-e210f2ac.js";import"./value-equal-17d7769a.js";import"./tiny-invariant-253458cb.js";/* empty css                  */import"./react-icons-64287f7e.js";import"./mdb-react-ui-kit-0e4b3bef.js";import"./react-redux-fda6d297.js";import"./hoist-non-react-statics-d5fd62bb.js";import"./react-is-e5978b8b.js";import"./use-sync-external-store-9e4930e8.js";import"./@reduxjs-69ed7b28.js";import"./immer-41fd5235.js";import"./redux-cef7b9c2.js";import"./redux-thunk-ef899f4c.js";import"./react-google-login-4b940c99.js";import"./gapi-script-6c9bcd75.js";import"./axios-28bc18a3.js";import"./mapbox-gl-6f08f8e4.js";import"./redux-persist-daa3df3a.js";import"./classnames-8e509635.js";import"./prop-types-extra-571b8aa3.js";import"./uncontrollable-11f2de37.js";import"./@restart-bee8d52b.js";import"./dom-helpers-fa9da9d2.js";import"./@react-aria-2d9aeea2.js";import"./dequal-5d0cf067.js";import"./@popperjs-a8253bfa.js";import"./warning-a06a1dc5.js";import"./react-transition-group-33a4e12e.js";import"./prop-types-9bfe13df.js";import"./path-to-regexp-00f975c1.js";import"./isarray-7a86238f.js";const _=()=>{n.useState(!1);const[l,x]=n.useState([{id:5}]),[p,y]=n.useState([]),[c,j]=n.useState([{id:1}]),[g,f]=n.useState([]),F=D(),C=()=>{const o={id:l.length+1};x([...l,o])},b=()=>{const o={id:c.length+1};j([...c,o])},v=t=>{const o=l.filter(a=>a.id!==t);x(o)},S=t=>{const o=c.filter(a=>a.id!==t);j(o)},u=(t,o)=>{const a=t.target.files,i=[...p];i[o]=a[0],y(i)},U=(t,o)=>{console.log(o);const a=t.target.files,i=[...g];i[o]=a[0],f(i)},V=async t=>{t.preventDefault();const o=new FormData;for(let i=0;i<p.length;i++)p[i]&&o.append("property_images",p[i]);for(let i=0;i<g.length;i++)g[i]&&o.append("property_videos",g[i]);localStorage.getItem("accessToken");const a=localStorage.getItem("propertyId");o.append("property",a);try{const m=await fetch(w("api/property/adddocuments/"),{method:"POST",body:o,headers:{}});if(m.ok){console.log("Property Document Added");const h=await m.json();console.log(h),localStorage.removeItem("propertyId"),F.push("/")}else{console.log("Failed to add property documents");const h=await m.text();console.log("Error Details:",h),console.log("Status",m.status),console.log("Response",m)}}catch(i){console.error("Error in sending request",i)}};return e.jsx(I.Fragment,{children:e.jsxs(r,{className:"m-5",onSubmit:V,children:[e.jsx(r.Label,{className:"text-lg",children:"Images"}),e.jsxs(r.Group,{as:s,md:"3",controlId:"imageUpload",required:!0,children:[e.jsx(r.Label,{children:"Image 1"}),e.jsx(r.Control,{name:"uploaded_images",type:"file",accept:"image/jpeg,image/png,image/gif",multiple:!0,onChange:t=>u(t,0)})]},"1"),e.jsxs(r.Group,{as:s,md:"3",controlId:"imageUpload",required:!0,children:[e.jsx(r.Label,{children:"Image 2"}),e.jsx(r.Control,{name:"uploaded_images",type:"file",accept:"image/jpeg,image/png,image/gif",multiple:!0,onChange:t=>u(t,1)})]},"2"),e.jsxs(r.Group,{as:s,md:"3",controlId:"imageUpload",required:!0,children:[e.jsx(r.Label,{children:"Image 3"}),e.jsx(r.Control,{name:"uploaded_images",type:"file",accept:"image/jpeg,image/png,image/gif",multiple:!0,onChange:t=>u(t,2)})]},"3"),l.map((t,o)=>e.jsxs(r.Group,{className:"pt-3",as:s,md:"3",controlId:`imageUpload-${t.id}`,children:[e.jsx(r.Label,{children:"Image"}),e.jsx(r.Control,{name:"uploaded_images",type:"file",accept:"image/jpeg,image/png,image/gif",multiple:!0,onChange:a=>u(a,t.id)}),e.jsx(d,{variant:"danger",onClick:()=>v(t.id),children:"Remove Image"})]},t.id)),e.jsx(s,{md:"3",className:"pb-3 pt-4 mt-3",children:e.jsx(d,{variant:"primary",className:"text-black",onClick:C,children:"Add Image"})}),c.map((t,o)=>e.jsxs(r.Group,{className:"pt-3",as:s,md:"3",controlId:`imageUpload-${t.id}`,children:[e.jsx(r.Label,{children:"Video"}),e.jsx(r.Control,{name:"uploaded_videos",type:"file",accept:"video/*",multiple:!0,onChange:a=>U(a,t.id)}),e.jsx(d,{variant:"danger",onClick:()=>S(t.id),children:"Remove Video"})]},t.id)),e.jsx(s,{md:"3",className:"pb-3 pt-4 mt-3",children:e.jsx(d,{variant:"primary",className:"text-black",onClick:b,children:"Add Video"})}),e.jsx(d,{type:"submit",variant:"primary",className:"text-black",children:"Submit"})]})})},Ce=()=>e.jsxs(I.Fragment,{children:[e.jsx(k,{}),e.jsx(N,{}),e.jsx(_,{})]});export{Ce as default};
